#  Template NodeJS build

#  This template allows you to validate your NodeJS code.
#  The workflow allows running tests and code linting on the default branch.



pipelines:
  default:
       - step:
           name: Install docker-compose
           image: python:3.8.1
           services:
              - docker
           caches:
              - docker
              - pip
           script:
              - pip install docker-compose
            
       - step:
           name: Build and Test
           image: node:14.16.1-alpine
           services: [docker]
           script:
              - yarn
              - yarn build
              - yarn fix
              - yarn test
 
definitions:
  services:
    docker:
      memory: 3072